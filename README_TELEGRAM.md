# تعليمات لوحة تحكم المدير وبوت تلجرام (مؤسسة الحبيب الطبية)

تم تحديث النظام لإضافة لوحة تحكم كاملة للمدير تتيح له مراقبة المحادثات، معرفة تفاصيل العملاء، واستلام إشعارات فورية.

## المميزات الجديدة للمدير:
1. **قائمة العملاء:** عرض كافة المستخدمين الذين تواصلوا مع البوت مع أسمائهم ومعرفاتهم.
2. **سجل المحادثات:** إمكانية قراءة كافة الرسائل المتبادلة بين العميل والبوت.
3. **تفاصيل العميل:** الحصول على رقم الهاتف (عندما يشاركه العميل) واسم المستخدم.
4. **إشعارات فورية:** استلام تنبيهات على حسابك الشخصي في تلجرام عند وصول رسائل جديدة.
5. **إحصائيات شاملة:** لوحة تحكم تعرض عدد العملاء وإجمالي الرسائل.

## كيفية تفعيل إشعارات المدير:
1. اذهب إلى لوحة التحكم في الموقع.
2. اختر من القائمة "تحكم تلجرام".
3. اضغط على "إعدادات الإشعارات".
4. أدخل معرف تلجرام الخاص بك (Telegram User ID) واضغط حفظ.
   *يمكنك الحصول على معرفك من خلال مراسلة بوت مثل @userinfobot في تلجرام.*

## الملفات المحدثة:
- `models.py`: إضافة جداول `TelegramUser` و `TelegramMessage`.
- `telegram_bot.py`: تحديث البوت لحفظ البيانات وإرسال الإشعارات وطلب رقم الهاتف.
- `chat.py`: إضافة مسارات لوحة التحكم للمدير.
- `templates/`: إضافة قوالب `telegram_admin.html` و `telegram_messages.html`.

## التشغيل:
1. قم بتشغيل الموقع الرئيسي:
   ```bash
   python main.py
   ```
2. قم بتشغيل بوت تلجرام في نافذة أخرى:
   ```bash
   python telegram_bot.py
   ```

## ملاحظات:
- يطلب البوت من العميل الجديد مشاركة رقم هاتفه تلقائياً عند الضغط على `/start`.
- يتم تخزين كافة البيانات في قاعدة البيانات `alhabib_chatbot.db`.
- التوكن المستخدم: `8545881767:AAFUTTGk8YBqxImGW9I7El5J6TTJ5fLqqz4`.
